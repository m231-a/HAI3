<!-- @standalone -->
# @hai3/i18n Guidelines (Canonical)

## AI WORKFLOW (REQUIRED)
1) Summarize 3-6 rules from this file before making changes.
2) STOP if you hardcode UI strings or bypass i18nRegistry.

## SCOPE
- Package: `packages/i18n/`
- Layer: L1 SDK (zero dependencies)
- Supports: 36 languages including RTL

## CRITICAL RULES
- All UI strings through `t('namespace:key')` function.
- Namespace format: `screenset.{id}` or `screen.{screenset}.{screen}`.
- Lazy load screen translations (not at bundle time).
- RTL detection via `isRTL()` for Arabic, Hebrew, Persian, Urdu.
- Parameter interpolation: `{param}` syntax in translations.

## NAMESPACE CONVENTIONS

| Type | Pattern | Example |
|------|---------|---------|
| Screenset-level | `screenset.{id}:key` | `screenset.demo:name` |
| Screen-level | `screen.{screenset}.{screen}:key` | `screen.demo.home:title` |
| Common | `common:key` | `common:buttons.save` |

## TRANSLATION REGISTRATION
```typescript
// GOOD: Lazy loading with registerLoader
i18nRegistry.registerLoader('screen.demo.home', {
  [Language.English]: () => import('./i18n/en.json'),
  [Language.Spanish]: () => import('./i18n/es.json'),
});

// BAD: Direct registration (loads all languages)
i18nRegistry.register('screen.demo.home', Language.English, translations);
```

## RTL SUPPORT
```typescript
// REQUIRED: Check RTL for layout direction
const { isRTL } = useTranslation();
return <div dir={isRTL ? 'rtl' : 'ltr'}>...</div>;
```

## STOP CONDITIONS
- Hardcoding UI strings in components.
- Bypassing i18nRegistry for translations.
- Loading all language files at bundle time.
- Forgetting RTL support for directional content.

## PRE-DIFF CHECKLIST
- [ ] All UI strings use t('namespace:key') format.
- [ ] Screen translations lazy loaded via registerLoader.
- [ ] RTL handled for directional content.
- [ ] No hardcoded strings in components.
- [ ] Translation files exist for all 36 languages.
